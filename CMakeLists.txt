cmake_minimum_required(VERSION 3.10)
project(ImGuiTransparentDemo)

# CMake ì •ì±… ê²½ê³ (CMP0167)ë¥¼ ì œê±°í•˜ê³  ìµœì‹  Boost ì„¤ì • ë°©ì‹ì„ ë”°ë¦…ë‹ˆë‹¤.
cmake_policy(SET CMP0167 NEW)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
#set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -O3 -march=native -ffast-math")

find_package(Boost REQUIRED COMPONENTS system regex)
find_package(Eigen3 3.3 REQUIRED NO_MODULE)

add_subdirectory(lib/imgui)
add_subdirectory(lib/CycloneDDS)

add_executable(main
    main.cpp
)

# ğŸš€ SIMD ìµœì í™” í”Œë˜ê·¸: Eigen ë° ê¸°íƒ€ ì—°ì‚°ì„ ìœ„í•´ ì¶”ê°€í•©ë‹ˆë‹¤.
#target_compile_options(main PRIVATE
#    -O3                             # ìµœê³  ìˆ˜ì¤€ì˜ ìµœì í™”
#    $<$<OR:$<CXX_COMPILER_ID:GNU>,$<CXX_COMPILER_ID:Clang>>:-march=native> # í˜„ì¬ CPUì— ë§ëŠ” ìµœì  ëª…ë ¹ì–´ì…‹ ì‚¬ìš©
#    $<$<OR:$<CXX_COMPILER_ID:GNU>,$<CXX_COMPILER_ID:Clang>>:-mavx2>        # AVX2 ëª…ë ¹ì–´ì…‹ í™œì„±í™”
#)


target_link_libraries(main PRIVATE imgui Eigen3::Eigen)


find_package(LAPACK REQUIRED)
find_package(BLAS REQUIRED)

target_link_libraries(main PRIVATE ${LAPACK_LIBRARIES})
target_link_libraries(main PRIVATE ${BLAS_LIBRARIES})


add_subdirectory(test)